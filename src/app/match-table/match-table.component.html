
<button mat-icon-button class="setting-btn" [disableRipple]="true" (click)="toggleSideNav()"><mat-icon>settings</mat-icon></button>
<app-view-table-sidenav></app-view-table-sidenav>
<div class="mn-display">
  <app-top-layer-filters (hideTable)="displaySelectedTable($event)"></app-top-layer-filters>

        <div class="fixturesTable" [style.visibility]="tableSelected == 1 ? 'visible' : 'collapse' " [style.height]="tableSelected == 1 ? '' : '0px' " [style.margin-bottom]="tableSelected == 1 ? '5px' : '0'" [style.display]="tableSelected == 1 ? 'inline' : '' ">
          <mat-table mat-table [dataSource] ="dataSource">
            <!-- Generate Column Headers -->
               <ng-container *ngFor="let column of columns" matColumnDef= {{column.field}}>
                      <mat-header-cell *matHeaderCellDef> <span>{{column.field}}  </span></mat-header-cell>

                    <!-- Generate Data Cells -->
                    <mat-cell *matCellDef="let row; let i = index" class="Test-{{row[0]}}">
                      <!-- TODO filter by dates epoch time is less than time.now epoch time then do not display. -->
                      <!-- <ng-container *ngIf="oldNews(row['EpochTime'])"> -->


                          <ng-container *ngIf="column.field.endsWith('BHome') ||  column.field.endsWith('SMHome')">
                            <div class="homeodds-container">
                              <ng-container *ngIf="column.field.endsWith('BHome')" >
                                <span class="{{column.field}} "> {{ row[column.field] | number:'0.2-2'}}</span>
                              </ng-container>
                              <ng-container *ngIf="column.field.endsWith('SMHome')">
                                <span class="{{column.field}} "> {{ row[column.field] | number:'0.2-2'}}</span>
                              </ng-container>
                            </div>
                          </ng-container>

                          <ng-container *ngIf="column.field.endsWith('OccH')">
                            <span class="{{column.field}} homeOccCell fta-value-cont"> {{ row[column.field] | number:'1.0-0'}}</span>
                          </ng-container>

                          <ng-container *ngIf=" column.field.endsWith('BAway') || column.field.endsWith('SMAway')">
                            <div class="awayodds-container">
                              <ng-container *ngIf="column.field.endsWith('BAway')" >
                                <span class="{{column.field}} awayOccCell b3-odd-cont"> {{ row[column.field] | number:'0.2-2'}}</span>
                              </ng-container>
                              <ng-container *ngIf="column.field.endsWith('SMAway')">
                                <span class="{{column.field}} awayOccCell sm-odd-cont"> {{ row[column.field] | number:'0.2-2'}}</span>
                              </ng-container>

                            </div>
                          </ng-container>

                          <ng-container *ngIf="column.field.endsWith('OccA')">
                            <span class="{{column.field}} awayOccCell fta-value-cont"> {{ row[column.field] | number:'1.0-0'}}</span>
                          </ng-container>

                          <ng-container *ngIf="column.field.startsWith('Home')">
                            <div class="{{column.field}} homelogoCell team-info">
                               {{ row[column.field] }}
                              <span class="{{column.field}} homelogoCell"> <img class="bookie-logo" src="/assets/img/fcLogo/{{row[column.field].toLowerCase().split(' ').join('-')}}.png" alt=""> </span>
                            </div>
                          </ng-container>

                          <ng-container *ngIf="column.field.startsWith('Away') ">
                            <div class="{{column.field}} awaylogoCell team-info">
                              <span class="{{column.field}} awaylogoCell"> <img class="bookie-logo" src="/assets/img/fcLogo/{{row[column.field].toLowerCase().split(' ').join('-')}}.png" alt=""> </span>
                              {{ row[column.field] }}
                            </div>
                          </ng-container>

                          <ng-container *ngIf="column.field.startsWith('FixturesDate')">
                            <button mat-raised-button class="fixturesDateBtn" [style.background]="row.isWatched ? 'linear-gradient(to top, #f5b95a, #ee9a12)' : 'rgb(195, 195, 195)'" (click)="addToWatchList(row);">
                              <div class="fixturesText">
                                <div class="fixturesDate"> {{row[column.field]}} </div>
                                <div class="fixturesTime"> {{row['FixturesTime']}} </div>
                              </div>
                            </button>
                          </ng-container>
                    </mat-cell>
              </ng-container>


                  <!--DOES NOTHING APPARENTLY. Keep for debug purposes for now <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row> -->
                  <mat-header-row *matHeaderRowDef="displayedColumns" ></mat-header-row>
                  <mat-row *matRowDef="let row; columns: displayedColumns; let i=index" class="match-row-details-{{i}}" appInactiveMatch [match]="row" ></mat-row>
                      <!-- Display group header -->
                      <ng-container class="groupHeaderCont" matColumnDef="groupHeader">
                        <mat-cell colspan="10" *matCellDef="let group">
                          <div class="leagueGroupContainer">
                            <div class="league-item">
                              <p class="short-text"></p>
                            </div>
                            <div class="league-item">
                              <h2>{{group[groupByColumns[0]]}}</h2>
                            </div>
                            <div class="league-item">
                              <mat-slide-toggle
                              class="leagueToggleSelect"
                              [(ngModel)]="group.watchAll"
                              (change)="group.watchAll; watchAll(group)"
                              (click)="$event.stopPropagation()"></mat-slide-toggle>
                            </div>
                          </div>
                        </mat-cell>
                      </ng-container>
            <mat-row *matRowDef="let row; columns: ['groupHeader']; when: isGroup;" (click)="displayMatches(row)" class="groupHeaderClass"></mat-row>
          </mat-table>
        </div>

        <!-- Display WatchList -->
        <div [style.visibility]="tableSelected == 2 ? 'visible' : 'collapse' "[style.height]="tableSelected == 2 ? ' ' : '0' " [style.margin-bottom]="tableSelected == 2 ? '5px' : '0'" [style.display]="tableSelected == 2 ? 'inline' : '' ">
          <app-watchlist></app-watchlist>
        </div>

        <!-- Display Juicy Table -->
        <div [style.visibility]="tableSelected == 3 ? 'visible' : 'collapse' "[style.height]="tableSelected == 3 ? ' ' : '0' " [style.margin-bottom]="tableSelected == 3 ? '5px' : '0'" [style.display]="tableSelected == 3 ? 'inline' : '' ">
          <app-juicy-match [allMatches]="matches"></app-juicy-match>
        </div>
        <!-- Display Active Bets -->
        <div [style.visibility]="tableSelected == 4 ? 'visible' : 'collapse' "[style.height]="tableSelected == 4 ? ' ' : '0' " [style.margin-bottom]="tableSelected == 4 ? '5px' : '0'" [style.display]="tableSelected == 4 ? 'inline' : '' ">
          <app-active-bets></app-active-bets>
        </div>
</div>


    <hr id="footer">

    <div class="footer-container">
      <p>Fill footer info here</p>
    </div>

