<form (ngSubmit)="saveStakePref()" [formGroup]="preferenceForm">
    <div class="preference-container">

      <div class="preferred-stake-cont">
        <h1>Preferred Stakes</h1>
        <div class="pref-stake-text">
          Set the default back stake amount that you would usually use for each odds range.
        </div>
        <div class="header-container">
          <p class="odds-header header">Odds Range</p>
          <p class="stake-header header">Stake</p>
        </div>


        <div class="stakeContainerForm">
          <div formArrayName="stakes">
            <div *ngFor="let stake of stakes.controls; index as i;">

              <div class="stake-field-cont">
                <div class="stake-range">
                  <p>{{stakeRanges[i]}} </p>
                </div>
                <div class="stake-input-cont">
                    <input
                    class="stake-input"
                    type="number"
                    step="0.1"
                    matInput
                    [formControlName]="i"
                    value="{{userStakes[i]}}"
                    placeholder="Stake"
                    required>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>
      <div class ="vertical"></div>
        
      <div class="estimated-value-cont">
        <div formArrayName="options">

        <div class="fta-container">
          <h1>Estimated Value Preferences</h1>
          <p class="estimated-value-text"> Apply either the Juicy-Bets 2up occurrence value or the average 1/65 to calculate the Estimated Value of a bet. </p>   
                        <div class="ev-content-row1">
                  <mat-form-field appearance="fill">
                                        <mat-select formControlName="Occ.">
                      <mat-option *ngFor="let ftaSelect of ftaSelection" [value]="ftaSelect.value">
                        {{ftaSelect.viewValue}}
                      </mat-option>
                    </mat-select>
                  </mat-form-field>
              </div>
                <p class="estimated-value-text"> The <b>FTA rating</b> will be applied with your saved <b>Preferred Stake</b> to calculate the estimated value of matches shown in the Juicy-Bets table. {{options.get('FTASelected').value == 'generic' ? ftaSelection[1].viewValue : ftaSelection[0].viewValue }}</p>
            </div>
            <div class="horizontal"></div>



              <div class="exchange-container">
                <h1>Exchanges</h1>
                <h3>Primary Exchange</h3>
                <mat-form-field appearance="fill">
                  <mat-select formControlName="Exchange">
                    <mat-option *ngFor="let exchangeSelect of exchangeSelection"  [value]="exchangeSelect.value">
                      {{exchangeSelect.viewValue}}
                    </mat-option>
                  </mat-select>
                  <mat-label class="value-selector"> {{preferenceForm.value.options.Exchange}}</mat-label>
                </mat-form-field>


                  <h3>Commission % Rates</h3>
                  <mat-form-field appearance="fill">
                    <mat-label class="value-selector"> Smarkets</mat-label>
                    <input formControlName="Commission" matInput placeholder="{{preferenceForm.get('options').value[2]}}" [value]="preferenceForm.get('options').value[2]">
                    </mat-form-field>
                
                </div>
              </div>
            </div>

          </div>
    <div class="smarkets"></div>
    <div class="alerts-notifications"></div>

  </form>


